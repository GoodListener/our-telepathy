{"version":3,"sources":["socket/socketManager.js","component/inviteDialog/InviteDialog.js","component/EmptyMember.js","dto/statusList.js","component/audio/AudioControl.js","component/callDialog/CallDialog.js","rtc/rtc.js","component/Member.js","component/MemberList.js","store/myInfo/myInfo.reducer.js","store/workingHours/workingHours.reducer.js","utils/utils.js","component/MyInfoBox.js","customHook/useInterval.js","component/dataDisplay/Line.js","component/dataDisplay/LineProgress.js","component/MyWorkBox.js","route/Main.js","route/Home.js","App.js","serviceWorker.js","store/index.js","index.js"],"names":["this","socket","io","myInfo","member","emit","addMember","removeMember","on","userInfo","id","userList","forEach","off","onChangeStatus","error","console","receiveDataMessage","type","targetId","message","messageObject","useStyles","makeStyles","theme","closeButton","position","right","spacing","top","color","palette","grey","linkText","width","dialogContent","display","flexDirection","justifyContent","height","InviteDialog","props","styles","inviteLink","window","location","href","slice","lastIndexOf","useState","title","link","userName","setUserName","onClose","open","Dialog","fullWidth","maxWidth","aria-labelledby","DialogTitle","className","dialogTitle","Typography","IconButton","onClick","DialogContent","TextField","label","onChange","e","target","value","required","aria-readonly","variant","onFocus","select","emptyContent","alignItems","plusIcon","EmptyMember","classes","setOpen","Grid","item","xs","md","Card","CardContent","Add","StatusDTO","statusInfo","status","buttonColor","lineColor","list","find","AudioControl","stream","audioRef","useRef","useEffect","current","srcObject","autoPlay","ref","controls","orange","getContrastText","deepOrange","backgroundColor","micOnIcon","endCallIcon","border","memberName","marginLeft","CallDialog","setTitle","micOn","setMicOn","isConnect","setIsConnect","connect","Avatar","name","Mic","MicOff","DialogActions","CallEnd","setTimeout","state","pcList","pcInfo","url","credential","username","getUserMedia","a","navigator","mediaDevices","audio","peerConnection","Promise","res","rej","then","myStream","pc","RTCPeerConnection","addStream","oniceconnectionstatechange","event","log","connectionState","handleOnIceConnectionStateChange","handleError","createOffer","sessionDescription","setLocalDescription","catch","createAnswer","destroyConnection","close","receiveOffer","offer","setRemoteDescription","RTCSessionDescription","receiveAnswer","answer","addIceCandidate","candidate","cardHeader","cardContent","cardStatusChip","alignSelf","cardAction","Member","setLabel","setStream","selectColor","setSelectColor","handleRemoteStreamRemoved","statusList","getStatus","changeStatus","elevation","CardHeader","action","Chip","CardActions","Button","rtc","onicecandidate","socketManager","sendMessageToUser","handleIceCandidate","onaddstream","handleRemoteStreamAdded","onremovestream","memberBox","padding","marginTop","MemberList","memberList","setMemberList","filter","foundMember","mem","newMember","index","findIndex","newMemberList","updateMember","onJoin","offJoin","offChangeStatus","container","map","SET_MY_INFO","CHANGE_STATUS","initialState","team","ADD","CHANGE_TIMELINE","CLEAR","CHANGE_TOTAL_TIME","workDate","Date","toISOString","startDate","endDate","currentStatus","currentIndex","totalTime","timeline","calcDateWidth","toFixed","getNewId","Math","round","random","workingStatusButton","restStatusButton","offStatusButton","MyInfoBox","teamId","useSelector","workingHours","dispatch","useDispatch","setTimeline","addTimeline","getFullDate","date","getFullYear","toString","getMonth","getDate","updateMyStatus","setMyInfo","utils","join","callback","delay","savedCallback","setInterval","clearInterval","useInterval","lastDate","avatar","root","line","borderRadius","minWidth","boxShadow","useStylesTooltip","tooltip","Line","startTime","getHours","getMinutes","lastTime","Tooltip","LineProgress","idx","progress","workingInputHoursBox","marginBottom","MyWorkBox","getFormattedTime","setStartTime","endTime","setEndTime","setHours","split","changeTotalTime","Box","defaultValue","inputProps","step","hours","minutes","mainBox","Main","useParams","memberData","setMemberData","data","onMessageReceived","offMessageReceived","Container","home","fontSize","startButton","background","joinButton","Home","history","useHistory","started","setStarted","setTeamId","handleEnterKey","key","trim","length","joinTheTeam","joinTextField","onKeyPress","push","App","basename","path","Boolean","hostname","match","persistConfig","storage","whitelist","rootReducer","combineReducers","persistReducer","enhancedReducer","store","createStore","persistor","persistStore","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.37b2faaa.chunk.js","sourcesContent":["import { io } from 'socket.io-client';\n\nclass SocketManager {\n    constructor() {\n        this.socket = io(\"https://flawless-psyche-307902.du.r.appspot.com\");\n        // this.socket = io(\"https://localhost:8080\");\n        this.myInfo = null;\n    }\n\n    join(member) {\n        this.myInfo = member;\n        this.socket.emit(\"join\", member);\n    }\n\n    /**\n     * \n     * @param {Function} addMember \n     * @param {Function} removeMember \n     */\n    onJoin(addMember, removeMember) {\n        this.socket.on('myInfo', userInfo => {\n            this.myInfo.id = userInfo.id;\n        })\n\n        this.socket.on('userList', userList => {\n            userList.forEach(userInfo => {\n                addMember(userInfo);\n            })\n        })\n\n        this.socket.on(\"joinedUser\", member => {\n            addMember(member);\n        });\n\n        this.socket.on(\"leavedUser\", id => {\n            removeMember(id);\n        });\n    }\n\n    offJoin() {\n        this.socket.off('myInfo');\n        this.socket.off('userList');\n        this.socket.off('joinedUser');\n        this.socket.off('leavedUser');\n    }\n\n    getMyInfo() {\n        return this.myInfo;\n    }\n\n    changeStatus(member) {\n        this.socket.emit('changeStatus', member);\n    }\n    \n\n    onChangeStatus(onChangeStatus) {\n        this.socket.on('onChangeStatus', onChangeStatus);\n    }\n\n    offChangeStatus() {\n        this.socket.off('onChangeStatus');\n    }\n\n    onError(error) {\n        console.error(error);\n    }\n\n    onMessageReceived(receiveDataMessage) {\n        this.socket.on('receivePrivateMessage', receiveDataMessage);\n    }\n\n    offMessageReceived() {\n        this.socket.off('receivePrivateMessage')\n    }\n\n    sendMessageToUser(type, targetId, message) {\n        const messageObject = {\n            id: this.myInfo.id, // sender id\n            type: type,\n            message: message\n        };\n        this.socket.emit('privateMessage', targetId, messageObject);\n    }\n}\n\nexport default new SocketManager();","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Dialog, DialogContent, DialogTitle, IconButton, TextField, Typography } from '@material-ui/core';\nimport Close from '@material-ui/icons/Close';\n\nconst useStyles = makeStyles((theme) => ({\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500]\n    },\n    linkText: {\n        width: '100%'\n    },\n    dialogContent: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-around',\n        height: '150px'\n    }\n}));\n\nexport default function InviteDialog(props) {\n    const styles = useStyles();\n    const inviteLink = window.location.href.slice(0, window.location.href.lastIndexOf('/') + 1);\n    const [title, setTitle] = useState('멤버 초대');\n    const [link, setLink] = useState(inviteLink);\n    const [userName, setUserName] = useState('');\n    const { onClose, open } = props;\n\n    function handleChangeInviteUserName(e) {\n        setUserName(e.target.value)\n    }\n\n    function handleFocus(e) {\n        e.target.select();\n    }\n\n    return (\n        <Dialog onClose={onClose} fullWidth={true} maxWidth={\"sm\"} aria-labelledby=\"dialog-title\" open={open}>\n            <DialogTitle id=\"dialog-title\" className={styles.dialogTitle}>\n                <Typography>{title}</Typography>\n                <IconButton onClick={onClose} className={styles.closeButton}>\n                    <Close />\n                </IconButton>\n            </DialogTitle>\n            <DialogContent className={styles.dialogContent}>\n                <TextField\n                    label=\"초대할 사용자 이름\"\n                    onChange={handleChangeInviteUserName}\n                    value={userName}\n                    required\n                />\n                <TextField\n                    label=\"초대 링크\"\n                    className={styles.linkText}\n                    aria-readonly={true}\n                    value={link + userName}\n                    variant=\"outlined\"\n                    onFocus={handleFocus}\n                ></TextField>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nInviteDialog.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired\n}","import { Card, CardContent, Grid, IconButton, makeStyles } from '@material-ui/core';\nimport { Add } from '@material-ui/icons';\nimport React, { useState } from 'react';\nimport InviteDialog from './inviteDialog/InviteDialog'\n\nconst useStyles = makeStyles({\n    emptyContent: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '140px'\n    },\n    plusIcon: {\n        width: '80px',\n        height: '80px',\n    }\n})\n\nexport default function EmptyMember() {\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n\n    function handleOpenInviteDialog() {\n        setOpen(true);\n    }\n\n    function handleClose() {\n        setOpen(false);\n    }\n\n    return (\n        <Grid item xs={6} md={3}>\n            <Card variant=\"outlined\">\n                <CardContent className={classes.emptyContent}>\n                    <IconButton className={classes.plusIcon} onClick={handleOpenInviteDialog}>\n                        <Add />\n                    </IconButton>\n                </CardContent>\n            </Card>\n            <InviteDialog open={open} onClose={handleClose}></InviteDialog>\n        </Grid>\n    )\n}","class StatusDTO {\n    constructor(statusInfo) {\n        this.status = statusInfo.status;\n        this.buttonColor = statusInfo.buttonColor;\n        this.lineColor = statusInfo.lineColor;\n        this.label = statusInfo.label;\n    }\n}\n\nclass StatusDTOList {\n    constructor() {\n        this.list = [\n            new StatusDTO({\n                status: 'working',\n                buttonColor: 'primary',\n                lineColor: '#C6BDFB',\n                label: '업무중'\n            }),\n            new StatusDTO({\n                status: 'meeting',\n                buttonColor: 'primary',\n                lineColor: '#86B7E5',\n                label: '회의중'\n            }),\n            new StatusDTO({\n                status: 'meal',\n                buttonColor: 'secondary',\n                lineColor: '#75CD83',\n                label: '식사중'\n            }),\n            new StatusDTO({\n                status: 'rest',\n                buttonColor: 'secondary',\n                lineColor: '#FFCBC0',\n                label: '휴식중'\n            }),\n            new StatusDTO({\n                status: 'offwork',\n                buttonColor: 'default',\n                lineColor: '#8F95A4',\n                label: '퇴근'\n            })\n        ]\n    }\n\n    /**\n     * \n     * @param {String} status \n     * @returns {StatusDTO}\n     */\n    getStatus(status) {\n        const statusInfo = this.list.find(item => item.status === status);\n        return statusInfo ? statusInfo : new StatusDTO({\n            status: 'default',\n            buttonColor: 'default',\n            lineColor: '#eee',\n            label: '준비중'\n        });\n    }\n}\n\n\n\nexport default new StatusDTOList();","import React, { useEffect, useRef } from 'react';\n\nexport default function AudioControl({ stream }) {\n    const audioRef = useRef();\n\n    useEffect(() => {\n        audioRef.current.srcObject = stream;\n        audioRef.current.autoPlay = 'autoplay';\n    })\n\n    return (\n        <div>\n            <audio ref={audioRef} autoPlay=\"autoplay\" controls=\"controls\"></audio>\n        </div>\n    )\n}","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { deepOrange } from '@material-ui/core/colors';\nimport { Avatar, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, Typography } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { CallEnd, Mic, MicOff } from '@material-ui/icons';\nimport AudioControl from '../audio/AudioControl';\n\nconst useStyles = makeStyles((theme) => ({\n    orange: {\n        color: theme.palette.getContrastText(deepOrange[500]),\n        backgroundColor: deepOrange[500],\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500]\n    },\n    micOnIcon: {\n        color: '#A30014'\n    },\n    endCallIcon: {\n        border: '1px solid gray',\n    },\n    dialogContent: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    memberName: {\n        marginLeft: theme.spacing(1)\n    }\n}));\n\nexport default function CallDialog(props) {\n    const styles = useStyles();\n    const [title, setTitle] = useState('연결중');\n    const [micOn, setMicOn] = useState(false);\n    const [isConnect, setIsConnect] = useState(false);\n    const { type, member, onClose, open, connect, stream } = props;\n\n    useEffect(() => {\n        if (type === 'offer' && !isConnect) {\n            open && connect(member);\n            setIsConnect(true);\n        }\n\n        if (!open) {\n            setIsConnect(false);\n        }\n    });\n\n    function handleMicOn() {\n        setMicOn(!micOn);\n    }\n\n    function handleReceiveCall() {\n        if (type === 'answer' && !isConnect) {\n            connect(member);\n            setIsConnect(true);\n        }\n    }\n\n    function handleEndCall() {\n        setTitle('통화 종료');\n        setTimeout(() => {\n            onClose();\n        }, 3000);\n    }\n\n    return (\n        <Dialog fullWidth={true} maxWidth={\"xs\"} aria-labelledby=\"dialog-title\" open={open}>\n            <DialogTitle id=\"dialog-title\" className={styles.dialogTitle}>\n                <Typography>{title}</Typography>\n                <IconButton onClick={onClose} className={styles.closeButton}>\n                    <CloseIcon />\n                </IconButton>\n            </DialogTitle>\n            <DialogContent className={styles.dialogContent}>\n                <Avatar className={styles.orange}>응</Avatar>\n                <Typography className={styles.memberName}>\n                    {member.name}\n                </Typography>\n                <IconButton onClick={handleMicOn} className={styles.micOnIcon}>\n                    {micOn ? <Mic /> : <MicOff />}\n                </IconButton>\n            </DialogContent>\n            <DialogActions className={styles.dialogContent}>\n                {\n                    type === 'answer' ?\n                        (<IconButton onClick={handleReceiveCall} color=\"primary\">\n                            <CallEnd />\n                        </IconButton>)\n                        :\n                        (<IconButton onClick={handleEndCall} color=\"secondary\">\n                            <CallEnd />\n                        </IconButton>)\n                }\n            </DialogActions>\n            <AudioControl stream={stream}></AudioControl>\n        </Dialog>\n    );\n}\n\nCallDialog.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n    member: PropTypes.any.isRequired\n}","const state = {\n    pcList: {},\n    stream: null\n}\n\nconst pcInfo = {\n    'iceServers': [\n        { url: 'stun:34.64.112.126:3478' },\n        {\n            url: 'turn:34.64.112.126:3478?transport=udp',\n            credential: 'dmdcjfdl',\n            username: 'ekim'\n        }],\n    'DtlsSrtpKeyAgreement': true\n\n};\n\nasync function getUserMedia() {\n    if (state.stream) {\n        return state.stream;\n    }\n    state.stream = await navigator.mediaDevices.getUserMedia({ audio: true })\n    return state.stream;\n}\n\nfunction peerConnection(id) {\n    return new Promise((res, rej) => {\n        getUserMedia().then(stream => {\n            window.myStream = stream;\n            try {\n                const pc = new RTCPeerConnection(pcInfo);\n                pc.addStream(stream);\n                pc.oniceconnectionstatechange = (event) => { handleOnIceConnectionStateChange(id, event); };\n                state.pcList[id] = pc;\n                res(pc);\n            } catch (e) {\n                console.error(e);\n                rej(e)\n            }\n        })\n    });\n}\n\nfunction createOffer(id) {\n    console.log('createOffer: ' + id);\n    return new Promise((res, rej) => {\n        peerConnection(id)\n            .then(pc => {\n                state.pcList[id].createOffer(sessionDescription => {\n                    state.pcList[id].setLocalDescription(sessionDescription);\n                    res({ pc, sessionDescription });\n                }, handleError)\n            })\n            .catch(e => {\n                rej(e);\n            })\n    })\n}\n\nfunction receiveOffer(id, offer) {\n    console.log('receiveOffer: ' + id);\n    if (!state.pcList[id]) {\n        return new Promise(res => {\n            peerConnection(id)\n                .then(pc => {\n                    pc.setRemoteDescription(new RTCSessionDescription(offer));\n                    res(pc);\n                });\n        })\n    }\n}\n\nfunction destroyConnection(id) {\n    state.pcList[id].close();\n    state.pcList[id] = null;\n}\n\nfunction createAnswer(id) {\n    return new Promise(res => {\n        if (state.pcList[id].connectionState !== \"connected\") {\n            state.pcList[id].createAnswer(sessionDescription => {\n                state.pcList[id].setLocalDescription(sessionDescription);\n                res(sessionDescription);\n            }, handleError);\n        }\n    })\n}\n\nfunction receiveAnswer(id, answer) {\n    state.pcList[id].setRemoteDescription(new RTCSessionDescription(answer));\n}\n\nfunction addIceCandidate(id, candidate) {\n    console.log(state.pcList[id]);\n    if (state.pcList[id])\n        state.pcList[id].addIceCandidate(candidate);\n}\n\nfunction handleOnIceConnectionStateChange(id, event) {\n    console.log(id, event);\n    console.log(state.pcList[id].connectionState)\n    if (state.pcList[id].connectionState === \"connected\") {\n        console.log('connected');\n    }\n}\n\nfunction handleError(error) {\n    console.error(error);\n}\n\n\nexport default {\n    getUserMedia,\n    createOffer,\n    createAnswer,\n    destroyConnection,\n    receiveOffer,\n    receiveAnswer,\n    addIceCandidate,\n}","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Avatar, Button, Card, CardActions, CardContent, CardHeader, Chip, Grid, makeStyles, Typography } from '@material-ui/core';\nimport { deepOrange } from '@material-ui/core/colors';\nimport statusList from '../dto/statusList'\nimport CallDialog from './callDialog/CallDialog';\nimport socketManager from '../socket/socketManager';\nimport rtc from '../rtc/rtc';\n\nconst useStyles = makeStyles((theme) => ({\n    orange: {\n        color: theme.palette.getContrastText(deepOrange[500]),\n        backgroundColor: deepOrange[500],\n    },\n    cardHeader: {\n        alignItems: \"center\"\n    },\n    cardContent: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    cardStatusChip: {\n        alignSelf: \"center\"\n    },\n    cardAction: {\n        width: '100%'\n    }\n}));\n\nexport default function Member({member}) {\n    const styles = useStyles();\n    const [open, setOpen] = useState(false);\n    const [label, setLabel] = useState('');\n    const [stream, setStream] = useState(null);\n    const [selectColor, setSelectColor] = useState('primary');\n\n    useEffect(() => {\n        changeStatus(member.status);\n    });\n\n    function offerToMember(member) {\n        console.log('offerToMember');\n        console.log(member);\n        rtc.createOffer(member.id)\n            .then(({ pc, sessionDescription }) => {\n                pc.onicecandidate = (event) => { handleIceCandidate(member.id, event) };\n                pc.onaddstream = (event) => { handleRemoteStreamAdded(member.id, event); };\n                pc.onremovestream = handleRemoteStreamRemoved;\n                socketManager.sendMessageToUser('offer', member.id, sessionDescription);\n            });\n    }\n\n    function handleIceCandidate(id, event) {\n        console.log(id, event);\n        if (event.candidate) {\n            socketManager.sendMessageToUser('candidate', id, event.candidate);\n        }\n    }\n\n    function handleRemoteStreamAdded(id, event) {\n        console.log(id, event);\n        setStream(event.stream);\n    }\n\n    function handleRemoteStreamRemoved(event) {\n        console.log(event);\n    }\n\n    function changeStatus (status) {\n        const statusInfo = statusList.getStatus(status);\n        setLabel(statusInfo.label);\n        setSelectColor(statusInfo.buttonColor);\n    }\n\n    function handleClickCallDialogOpen() {\n        setOpen(true);\n    }\n\n    function handleClose() {\n        setOpen(false);\n        rtc.destroyConnection(member.id);\n    }\n\n    return <Grid item xs={6} md={3}>\n        <Card elevation={4}>\n            <CardHeader\n                className={styles.cardHeader}\n                action={<Chip className={styles.cardStatusChip} color={selectColor} label={label} />}\n            >\n            </CardHeader>\n            <CardContent className={styles.cardContent}>\n                <Avatar className={styles.orange}>O</Avatar>\n                <Typography>{member.name}</Typography>\n            </CardContent>\n            <CardActions>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={styles.cardAction}\n                    onClick={handleClickCallDialogOpen}\n                >\n                    Call\n                </Button>\n            </CardActions>\n            <CallDialog type=\"offer\" member={member} open={open} onClose={handleClose} connect={offerToMember} stream={stream}></CallDialog>\n        </Card>\n    </Grid>\n}\n\nMember.propTypes = {\n    member: PropTypes.any.isRequired\n}","import { Grid, makeStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport socketManager from '../socket/socketManager';\nimport EmptyMember from './EmptyMember';\nimport Member from './Member';\n\nconst useStyles = makeStyles({\n    memberBox: {\n        padding: \"10px 40px\",\n        marginTop: \"20px\"\n    }\n})\n\nexport default function MemberList() {\n    const [memberList, setMemberList] = useState([]);\n    const styles = useStyles();\n\n    useEffect(() => {\n        socketManager.onJoin(addMember, removeMember);\n\n        return () => {\n            socketManager.offJoin();\n        }\n    });\n\n    useEffect(() => {\n        socketManager.onChangeStatus(onChangeStatus);\n\n        return () => {\n            socketManager.offChangeStatus();\n        }\n    });\n\n    function addMember(member) {\n        setMemberList(memberList => [...memberList, member]);\n    }\n\n    /**\n     * \n     * @param {string} id \n     */\n    function removeMember(id) {\n        setMemberList(memberList => memberList.filter(member => {\n            return member.id !== id;\n        }));\n    }\n\n    function updateMember(newMember) {\n        const index = [...memberList].findIndex(member => {\n            return member.id === newMember.id\n        });\n        let newMemberList = [...memberList];\n        newMemberList[index] = newMember;\n        setMemberList(() => newMemberList);\n    }\n\n    function onChangeStatus(member) {\n        const foundMember = [...memberList].find(mem => mem.id === member.id);\n        if (foundMember) {\n            foundMember.status = member.status;\n            updateMember(foundMember);\n        }\n    }\n\n    return <Grid container spacing={3} className={styles.memberBox}>\n        {memberList.map(member => <Member key={member.id} member={member}></Member>)}\n        <EmptyMember></EmptyMember>\n    </Grid>\n}","import { createStore } from \"redux\";\n\nconst SET_MY_INFO = '/myInfo/SET_MY_INFO';\nconst CHANGE_STATUS = '/myInfo/CHANGE_STATUS';\n\nexport const setMyInfo = myInfo => ({type: SET_MY_INFO, ...myInfo});\nexport const changeStatus = myInfo => ({type: CHANGE_STATUS, ...myInfo});\n\nconst initialState = {\n    id: '',\n    name: '',\n    team: '',\n    status: ''\n}\n\n\nexport default function myInfo(state = initialState, action) {\n    switch(action.type) {\n        case SET_MY_INFO:\n            return {\n                ...state,\n                id: action.id,\n                name: action.name,\n                team: action.team,\n                status: action.status\n            }\n        case CHANGE_STATUS:\n            return {\n                ...state,\n                status: action.status\n            }\n        default :\n            return state;\n    }\n}","const ADD = '/timeline/ADD';\nconst CHANGE_TIMELINE = '/timeline/CHANGE_TIMELINE';\nconst CLEAR = '/timeline/CLEAR';\nconst CHANGE_TOTAL_TIME = '/timeline/CHANGE_WORKING_HOURS';\n\nexport const addTimeline = workingHours => ({ type: ADD, ...workingHours });\nexport const changeTimeline = timeline => ({ type: CHANGE_TIMELINE, ...timeline });\nexport const clear = () => ({ type: CLEAR });\nexport const changeTotalTime = workingHours => ({ type: CHANGE_TOTAL_TIME, ...workingHours });\n\nconst initialState = {\n    workDate: new Date().toISOString(),\n    startDate: null,\n    endDate: null,\n    currentStatus: '',\n    currentIndex: -1,\n    totalTime: 60 * 60 * 1000,\n    timeline: []\n}\n\nexport default function workingHours(state = initialState, action) {\n    switch (action.type) {\n        case ADD:\n            return {\n                ...state,\n                currentIndex: state.currentIndex + 1,\n                currentStatus: action.status,\n                timeline: [\n                    ...state.timeline,\n                    {\n                        ...action.timeline,\n                        index: state.currentIndex + 1\n                    }\n                ]\n            }\n        case CHANGE_TIMELINE:\n            return {\n                ...state,\n                timeline: state.timeline.map(item => {\n                    if (item.index == action.index) {\n                        return {\n                            ...item,\n                            width: calcDateWidth(item.startDate, action.lastDate, state.totalTime),\n                            lastDate: action.lastDate\n                        };\n                    }\n                    return item;\n                })\n            }\n        case CHANGE_TOTAL_TIME:\n            return {\n                ...state,\n                totalTime: action.totalTime,\n                startDate: action.startDate ? action.startDate : state.startDate,\n                endDate: action.endDate ? action.endDate : state.endDate,\n                timeline: state.timeline.map(item => {\n                    return {\n                        ...item,\n                        width: calcDateWidth(item.startDate, item.lastDate, action.totalTime)\n                    }\n                })\n            }\n        case CLEAR:\n            return initialState;\n        default:\n            return state;\n    }\n}\n\nfunction calcDateWidth(startDate, endDate, totalTime) {\n    return ((new Date(endDate) - new Date(startDate)) / totalTime * 100).toFixed(2);\n}","function getNewId() {\n    return Math.round(Math.random() * 99999999);\n}\n\nexport default {\n    getNewId\n}","import { Avatar, Button, Card, CardContent, CardHeader, Chip, Grid, makeStyles } from '@material-ui/core';\nimport { deepOrange } from '@material-ui/core/colors';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport socketManager from '../socket/socketManager';\nimport { changeStatus, setMyInfo } from '../store/myInfo/myInfo.reducer'\nimport { addTimeline, changeTimeline, clear } from '../store/workingHours/workingHours.reducer';\nimport utils from '../utils/utils';\nimport statusList from '../dto/statusList';\nimport useInterval from '../customHook/useInterval';\n\nconst useStyles = makeStyles((theme) => ({\n    orange: {\n        color: theme.palette.getContrastText(deepOrange[500]),\n        backgroundColor: deepOrange[500],\n    },\n    cardHeader: {\n        alignItems: \"center\"\n    },\n    cardContent: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n    },\n    cardStatusChip: {\n        alignSelf: \"center\"\n    },\n    workingStatusButton: {\n        color: '#5843BE'\n    },\n    restStatusButton: {\n        color: '#FFA067'\n    },\n    offStatusButton: {\n        color: '#282828'\n    }\n}));\n\nexport default function MyInfoBox({ teamId, userName }) {\n    const styles = useStyles();\n    const [label, setLabel] = useState('');\n    const [selectColor, setSelectColor] = useState('primary');\n    const myInfo = useSelector(state => state.myInfo);\n    const workingHours = useSelector(state => state.workingHours);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(setMyInfo({\n            id: myInfo.id ? myInfo.id : utils.getNewId(),\n            name: userName,\n            team: teamId,\n            status: myInfo.status ? myInfo.status : 'working'\n        }))\n\n        socketManager.join(myInfo);\n        updateMyStatus(myInfo.status);\n    }, []);\n\n    useEffect(() => {\n        socketManager.changeStatus(myInfo);\n    }, [myInfo])\n\n    useEffect(() => {\n        if (getFullDate(new Date(workingHours.workDate)) !== getFullDate(new Date)) {\n            dispatch(clear());\n        }\n    }, [])\n\n    useInterval(() => {\n        dispatch(changeTimeline({\n            index: workingHours.currentIndex,\n            lastDate: new Date().toISOString()\n        }))\n    }, 1000)\n\n    function setTimeline(status) {\n        dispatch(addTimeline({\n            status: status,\n            timeline: {\n                status: status,\n                color: statusList.getStatus(status).lineColor,\n                startDate: new Date().toISOString()\n            }\n        }))\n    }\n\n    function getFullDate(date) {\n        return date.getFullYear().toString() + (date.getMonth() + 1).toString() + date.getDate().toString();\n    }\n\n    function updateMyStatus(status) {\n        dispatch(changeStatus({ status: status }));\n        setTimeline(status);\n        const statusInfo = statusList.getStatus(status);\n        setLabel(statusInfo.label);\n        setSelectColor(statusInfo.buttonColor);\n    }\n\n    return (\n        <Card elevation={0}>\n            <CardHeader\n                className={styles.cardHeader}\n                avatar={<Avatar className={styles.orange}>응</Avatar>}\n                title={myInfo.name}\n                action={<Chip className={styles.cardStatusChip} color={selectColor} label={label} />}\n            >\n            </CardHeader>\n            <CardContent className={styles.cardContent}>\n                {(statusList.list.map((item, index) => (\n                        <Grid key={index} item xs=\"auto\">\n                            <Button\n                                variant={myInfo.status === item.status ? \"contained\" : \"text\"}\n                                color={selectColor}\n                                onClick={() => { updateMyStatus(item.status) }}\n                            >{item.label}</Button>\n                        </Grid>\n                    )\n                ))}\n            </CardContent>\n\n        </Card>\n    )\n}","import { useEffect, useRef } from \"react\";\n\nexport default function useInterval(callback, delay) {\n    const savedCallback = useRef();\n\n    // Remember the latest function.\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    // Set up the interval.\n    useEffect(() => {\n        function tick() {\n            savedCallback.current();\n        }\n        if (delay !== null) {\n            let id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n    }, [delay]);\n}","import { makeStyles, Tooltip } from '@material-ui/core';\nimport React from 'react';\nimport statusList from '../../dto/statusList'\n\nconst useStyles = makeStyles({\n    root: (props) => ({\n        backgroundColor: props.line.color,\n        width: `${props.line.width}%`,\n        height: '100%',\n        display: 'inline-block',\n        \"&:first-child\": {\n            borderRadius: '0.3rem 0 0 0.3rem'\n        },\n        \"&:last-child\": {\n            minWidth: '3px',\n            borderRadius: '0 0.3rem 0.3rem 0'\n        },\n        \"&:hover\": {\n            boxShadow: `0 0 2px 2px ${props.line.color}88`\n        }\n\n    })\n});\n\nconst useStylesTooltip = makeStyles({\n    tooltip: (props) => ({\n        backgroundColor: props.line.color\n    })\n})\n\nexport default function Line(props) {\n    const styles = useStyles(props);\n    const classes = useStylesTooltip(props);\n    const label = statusList.getStatus(props.line.status).label;\n    const startDate = new Date(props.line.startDate);\n    const startTime = startDate.getHours() + \":\" + startDate.getMinutes();\n    const lastDate = new Date(props.line.lastDate);\n    const lastTime = lastDate.getHours() + \":\" + lastDate.getMinutes();\n    return <Tooltip title={label + ' (' + startTime + ' ~ ' + lastTime + ')'} classes={classes}><span className={styles.root}></span></Tooltip>\n}","import { makeStyles } from '@material-ui/core';\nimport React from 'react';\nimport Line from './Line';\n\nexport default function LineProgress({className, timeline}) {\n    return (\n        <div className={className}>\n            {timeline.map((line, idx) => <Line key={idx} line={line}></Line>)}\n        </div>\n    )\n}","import { Box, makeStyles, TextField } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { changeTotalTime } from '../store/workingHours/workingHours.reducer';\nimport LineProgress from './dataDisplay/LineProgress'\n\nconst useStyles = makeStyles({\n    progress: {\n        height: \"1.5rem\",\n        backgroundColor: \"#fff\",\n        borderRadius: '0.3rem'\n    },\n    workingInputHoursBox: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '5px'\n    }\n});\n\nexport default function MyWorkBox() {\n    const styles = useStyles();\n    const workingHours = useSelector(state => state.workingHours);\n    const [startTime, setStartTime] = useState(getFormattedTime(workingHours.startDate));\n    const [endTime, setEndTime] = useState(getFormattedTime(workingHours.endDate));\n    const dispatch = useDispatch();\n\n    function handleStartTime(e) {\n        setStartTime(e.target.value);\n    }\n\n    function handleEndTime(e) {\n        setEndTime(e.target.value);\n    }\n\n    useEffect(() => {\n        const startDate = new Date();\n        const endDate = new Date();\n        startDate.setHours(startTime.split(':')[0], startTime.split(':')[1]);\n        endDate.setHours(endTime.split(':')[0], endTime.split(':')[1]);\n        const totalTime = endDate - startDate;\n        if (totalTime > 0) {\n            dispatch(changeTotalTime({\n                totalTime: totalTime,\n                startDate: startDate,\n                endDate: endDate\n            }))\n        }\n    }, [startTime, endTime])\n\n    return (\n        <Box>\n            <Box className={styles.workingInputHoursBox}>\n                <TextField\n                    id=\"startTime\"\n                    label=\"출근\"\n                    type=\"time\"\n                    defaultValue={startTime}\n                    inputProps={{\n                        step: 60,\n                    }}\n                    onChange={handleStartTime}\n                />\n                <TextField\n                    id=\"endTime\"\n                    label=\"퇴근\"\n                    type=\"time\"\n                    defaultValue={endTime}\n                    inputProps={{\n                        step: 60\n                    }}\n                    onChange={handleEndTime}\n                />\n            </Box>\n            <LineProgress className={styles.progress} timeline={workingHours.timeline}></LineProgress>\n        </Box>\n    )\n}\n\nfunction getFormattedTime(date) {\n    const hours = new Date(date).getHours();\n    const minutes = new Date(date).getMinutes();\n    return (hours > 9 ? hours : '0' + hours) + \":\" + (minutes > 9 ? minutes : '0' + minutes);\n}","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport MemberList from '../component/MemberList';\nimport MyInfoBox from '../component/MyInfoBox';\nimport socketManager from '../socket/socketManager';\nimport rtc from '../rtc/rtc';\nimport { makeStyles, Container, Grid, Typography } from '@material-ui/core';\nimport MyWorkBox from '../component/MyWorkBox';\nimport CallDialog from '../component/callDialog/CallDialog';\n\nconst useStyles = makeStyles({\n    mainBox: {\n        backgroundColor: \"#F1F3F6\",\n        padding: \"10px 20px\"\n    }\n})\n\nexport default function Main() {\n    const styles = useStyles();\n    const { teamId, userName } = useParams();\n    const [open, setOpen] = useState(false);\n    const [memberData, setMemberData] = useState({name: 'null', id: ''});\n    const [stream, setStream] = useState(null);\n\n    useEffect(() => {\n        socketManager.onMessageReceived(receiveDataMessage);\n\n        return () => {\n            socketManager.offMessageReceived();\n        }\n    });\n\n    function receiveDataMessage(data) {\n        console.log(data);\n        switch (data.type) {\n            case 'offer':\n                setMemberData({\n                    name: 'test',\n                    id: data.id,\n                    message: data.message\n                })\n                setOpen(true);\n                break;\n            case 'answer':\n                rtc.receiveAnswer(data.id, data.message);\n                break;\n            case 'candidate':\n                rtc.addIceCandidate(data.id, data.message);\n                break;\n            default:\n                console.log(data);\n                break;\n        }\n    }\n\n    function receiveOffer(data) {\n        console.log('receiveOffer');\n        console.log(data);\n        rtc.receiveOffer(data.id, data.message)\n        .then(pc => {\n            pc.onicecandidate = (event) => { handleIceCandidate(data.id, event) };\n            pc.onaddstream = (event) => { handleRemoteStreamAdded(data.id, event); };\n            pc.onremovestream = handleRemoteStreamRemoved;\n            rtc.createAnswer(data.id).then(sessionDescription => {\n                socketManager.sendMessageToUser('answer', data.id, sessionDescription);\n            })\n        })\n    }\n\n    function handleIceCandidate(id, event) {\n        console.log(id, event);\n        if (event.candidate) {\n            socketManager.sendMessageToUser('candidate', id, event.candidate);\n        }\n    }\n\n    function handleRemoteStreamAdded(id, event) {\n        console.log(id, event);\n        setStream(event.stream);\n    }\n\n    function handleRemoteStreamRemoved(event) {\n        console.log(event);\n    }\n\n    function handleClose() {\n        setOpen(false);\n        rtc.destroyConnection(memberData.id);\n    }\n\n    return (\n        <Container maxWidth=\"md\">\n            <Grid container spacing={3} className={styles.mainBox}>\n                <Grid item xs={12} md={12}>\n                    <Typography>TeleTele</Typography>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <MyInfoBox\n                        userName={userName}\n                        teamId={teamId}\n                    ></MyInfoBox>\n                </Grid>\n                <Grid item xs={12} md={6}>\n                    <MyWorkBox\n\n                    >\n                    </MyWorkBox>\n                </Grid>\n            </Grid>\n            <MemberList className={styles.mainBox}></MemberList>\n            <CallDialog type=\"answer\" member={memberData} open={open} onClose={handleClose} connect={receiveOffer} stream={stream}></CallDialog>\n        </Container>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport { Button, Box, makeStyles, TextField } from '@material-ui/core'\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst useStyles = makeStyles({\n    home: {\n        position: 'absolute',\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        flexDirection: 'column'\n    },\n    title: {\n        height: '3rem',\n        fontSize: '2rem'\n    },\n    startButton: {\n        background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n        color: '#fff',\n        width: '200px',\n        height: '50px',\n        borderRadius: '30px',\n        fontSize: '1.2rem'\n    },\n    joinButton: {\n        fontSize: '1.2rem'\n    }\n})\n\nexport default function Home() {\n    const styles = useStyles();\n    const history = useHistory();\n    const [started, setStarted] = useState(false);\n    const [teamId, setTeamId] = useState('');\n    const [userName, setUserName] = useState('');\n    const myInfo = useSelector(state => state.myInfo);\n\n    useEffect(() => {\n        if (myInfo.id) {\n            setTeamId(myInfo.team);\n            setUserName(myInfo.name);\n        }\n    }, []);\n\n    function handleChange(e) {\n        setTeamId(e.target.value);\n    }\n    \n    function handleChangeMyName(e) {\n        setUserName(e.target.value);\n    }\n    function handleEnterKey(e) {\n        if (e.key === 'Enter') {\n            if (!started && teamId.trim().length <= 0) {\n                return;\n            } else if (started && userName.trim().length <= 0) {\n                return;\n            }\n\n            started ? setStarted(true) : joinTheTeam();\n        }\n    }\n    function joinTheTeam() {\n        if (!started && teamId.trim().length <= 0) {\n            return;\n        }\n        setStarted(true);\n    }\n    function handleClick() {\n        if (started && userName.trim().length <= 0) {\n            return;\n        }\n        history.push(`/team/${teamId}/${userName}`);\n    }\n\n    return (\n        <Box className={styles.home}>\n            <h2 className={styles.title}>TeleTele</h2>\n            <h3>\n                {!started && <>\n                    <TextField\n                        label=\"TEAM\"\n                        className={styles.joinTextField}\n                        onChange={handleChange}\n                        onKeyPress={handleEnterKey}\n                        value={teamId}\n                        required\n                    />\n                    <br/><br/>\n                    <Button\n                        className={styles.startButton}\n                        onClick={joinTheTeam}\n                    >JOIN\n                    </Button>\n                </>}\n                {started && <>\n                    <TextField\n                        label=\"MY NAME\"\n                        className={styles.joinTextField}\n                        onChange={handleChangeMyName}\n                        onKeyPress={handleEnterKey}\n                        value={userName}\n                        required\n                    />\n                    <br/><br/>\n                    <Button\n                        className={styles.startButton}\n                        onClick={handleClick}>START\n                    </Button>\n                </>}\n            </h3>\n        </Box >\n    )\n}","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport Main from './route/Main';\nimport Home from './route/Home';\n\nfunction App() {\n  return (\n    <Router basename=\"/our-telepathy\">\n      <Switch>\n        <Route path=\"/team/:teamId/:userName\">\n          <Main />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// reducers/index.js\nimport { combineReducers } from \"redux\";\nimport { persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\n\nimport myInfo from \"./myInfo/myInfo.reducer\";\nimport workingHours from \"./workingHours/workingHours.reducer\";\n\nconst persistConfig = {\n    key: \"root\",\n    storage,\n    whitelist: [\"myInfo\", \"workingHours\"]\n};\n\nconst rootReducer = combineReducers({\n    myInfo,\n    workingHours\n});\n\nexport default persistReducer(persistConfig, rootReducer);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux';\nimport rootReducer from './store';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nconst persistConfig = {\n  key: 'root',\n  storage\n};\n\nconst enhancedReducer = persistReducer(persistConfig, rootReducer);\n\nconst store = createStore(enhancedReducer);\nconst persistor = persistStore(store);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <App />\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}